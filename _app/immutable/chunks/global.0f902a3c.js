import{w as h,r as C}from"./index.d0e2fddc.js";import{z as M,A as E}from"./index.f97f3fdf.js";function z(s){return Object.prototype.toString.call(s)==="[object Date]"}function k(s,a,t,r){if(typeof t=="number"||z(t)){const o=r-t,e=(t-a)/(s.dt||1/60),f=s.opts.stiffness*o,n=s.opts.damping*e,d=(f-n)*s.inv_mass,i=(e+d)*s.dt;return Math.abs(i)<s.opts.precision&&Math.abs(o)<s.opts.precision?r:(s.settled=!1,z(t)?new Date(t.getTime()+i):t+i)}else{if(Array.isArray(t))return t.map((o,e)=>k(s,a[e],t[e],r[e]));if(typeof t=="object"){const o={};for(const e in t)o[e]=k(s,a[e],t[e],r[e]);return o}else throw new Error(`Cannot spring ${typeof t} values`)}}function H(s,a={}){const t=h(s),{stiffness:r=.15,damping:o=.8,precision:e=.01}=a;let f,n,d,i=s,m=s,l=1,j=0,b=!1;function A(g,p={}){m=g;const D=d={};return s==null||p.hard||w.stiffness>=1&&w.damping>=1?(b=!0,f=M(),i=g,t.set(s=m),Promise.resolve()):(p.soft&&(j=1/((p.soft===!0?.5:+p.soft)*60),l=0),n||(f=M(),b=!1,n=E(c=>{if(b)return b=!1,n=null,!1;l=Math.min(l+j,1);const y={inv_mass:l,opts:w,settled:!0,dt:(c-f)*60/1e3},P=k(y,i,s,m);return f=c,i=s,t.set(s=P),y.settled&&(n=null),!y.settled})),new Promise(c=>{n.promise.then(()=>{D===d&&c()})}))}const w={set:A,update:(g,p)=>A(g(m,s),p),subscribe:t.subscribe,stiffness:r,damping:o,precision:e};return w}C(900);const T=h(0),W=h(0),$=h(H(15));export{T as a,$ as c,z as i,W as w};
