import{w as y,r as F}from"./index.f872b789.js";import{n as H}from"./scheduler.8ba4d870.js";const P=typeof window<"u";let D=P?()=>window.performance.now():()=>Date.now(),E=P?s=>requestAnimationFrame(s):H;const c=new Set;function S(s){c.forEach(n=>{n.c(s)||(c.delete(n),n.f())}),c.size!==0&&E(S)}function O(s){let n;return c.size===0&&E(S),{promise:new Promise(t=>{c.add(n={c:s,f:t})}),abort(){c.delete(n)}}}function M(s){return Object.prototype.toString.call(s)==="[object Date]"}function j(s,n,t,f){if(typeof t=="number"||M(t)){const o=f-t,e=(t-n)/(s.dt||1/60),a=s.opts.stiffness*o,i=s.opts.damping*e,m=(a-i)*s.inv_mass,r=(e+m)*s.dt;return Math.abs(r)<s.opts.precision&&Math.abs(o)<s.opts.precision?f:(s.settled=!1,M(t)?new Date(t.getTime()+r):t+r)}else{if(Array.isArray(t))return t.map((o,e)=>j(s,n[e],t[e],f[e]));if(typeof t=="object"){const o={};for(const e in t)o[e]=j(s,n[e],t[e],f[e]);return o}else throw new Error(`Cannot spring ${typeof t} values`)}}function T(s,n={}){const t=y(s),{stiffness:f=.15,damping:o=.8,precision:e=.01}=n;let a,i,m,r=s,l=s,w=1,z=0,b=!1;function A(h,p={}){l=h;const q=m={};return s==null||p.hard||g.stiffness>=1&&g.damping>=1?(b=!0,a=D(),r=h,t.set(s=l),Promise.resolve()):(p.soft&&(z=1/((p.soft===!0?.5:+p.soft)*60),w=0),i||(a=D(),b=!1,i=O(d=>{if(b)return b=!1,i=null,!1;w=Math.min(w+z,1);const k={inv_mass:w,opts:g,settled:!0,dt:(d-a)*60/1e3},C=j(k,r,s,l);return a=d,r=s,t.set(s=C),k.settled&&(i=null),!k.settled})),new Promise(d=>{i.promise.then(()=>{q===m&&d()})}))}const g={set:A,update:(h,p)=>A(h(l,s),p),subscribe:t.subscribe,stiffness:f,damping:o,precision:e};return g}F(900);const B=y(0),G=y(0),I=y(T(15));export{B as a,I as c,M as i,O as l,D as n,G as w};
