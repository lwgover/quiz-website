import{w as d,r as q}from"./index.e9d0ede5.js";import{A as M,B}from"./index.339ef73a.js";function z(s){return Object.prototype.toString.call(s)==="[object Date]"}function k(s,a,t,r){if(typeof t=="number"||z(t)){const o=r-t,e=(t-a)/(s.dt||1/60),f=s.opts.stiffness*o,n=s.opts.damping*e,m=(f-n)*s.inv_mass,i=(e+m)*s.dt;return Math.abs(i)<s.opts.precision&&Math.abs(o)<s.opts.precision?r:(s.settled=!1,z(t)?new Date(t.getTime()+i):t+i)}else{if(Array.isArray(t))return t.map((o,e)=>k(s,a[e],t[e],r[e]));if(typeof t=="object"){const o={};for(const e in t)o[e]=k(s,a[e],t[e],r[e]);return o}else throw new Error(`Cannot spring ${typeof t} values`)}}function C(s,a={}){const t=d(s),{stiffness:r=.15,damping:o=.8,precision:e=.01}=a;let f,n,m,i=s,l=s,b=1,j=0,w=!1;function A(h,p={}){l=h;const D=m={};return s==null||p.hard||g.stiffness>=1&&g.damping>=1?(w=!0,f=M(),i=h,t.set(s=l),Promise.resolve()):(p.soft&&(j=1/((p.soft===!0?.5:+p.soft)*60),b=0),n||(f=M(),w=!1,n=B(c=>{if(w)return w=!1,n=null,!1;b=Math.min(b+j,1);const y={inv_mass:b,opts:g,settled:!0,dt:(c-f)*60/1e3},P=k(y,i,s,l);return f=c,i=s,t.set(s=P),y.settled&&(n=null),!y.settled})),new Promise(c=>{n.promise.then(()=>{D===m&&c()})}))}const g={set:A,update:(h,p)=>A(h(l,s),p),subscribe:t.subscribe,stiffness:r,damping:o,precision:e};return g}q(900);const O=d(0),S=d(0),T=d(C(15)),W=d("");export{O as a,W as b,T as c,z as i,S as w};
